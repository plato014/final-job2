<!DOCTYPE html>
<html lang="th">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ห้องดูหนัง - BookSpace</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/css/bootstrap.min.css" rel="stylesheet">
    <!-- Bootstrap Icons -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-icons/1.10.0/font/bootstrap-icons.min.css"
        rel="stylesheet">
    <style>
        :root {
            --primary-color: #2c3e50;
            --secondary-color: #ecf0f1;
            --accent-color: #3498db;
            --success-color: #27ae60;
            --warning-color: #f39c12;
            --danger-color: #e74c3c;
            --cinema-color: #2c3e50;
            --cinema-gold: #f1c40f;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #ffffff;
            color: #2c3e50;
        }

        .navbar-brand {
            font-size: 1.8rem;
            font-weight: 700;
            color: var(--primary-color) !important;
        }

        .page-header {
            background: linear-gradient(135deg, var(--cinema-color) 0%, #34495e 100%);
            color: white;
            padding: 4rem 0;
            position: relative;
            overflow: hidden;
        }

        .page-header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1000 100" fill="%23ffffff" opacity="0.1"><polygon points="1000,100 1000,0 0,100"/></svg>');
            background-size: cover;
        }

        .header-content {
            position: relative;
            z-index: 2;
        }

        .feature-card {
            transition: all 0.3s ease;
            border: none;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            border-radius: 15px;
            overflow: hidden;
            height: 100%;
            background: linear-gradient(145deg, #ffffff 0%, #f8f9fa 100%);
        }

        .feature-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.15);
        }

        .feature-icon {
            font-size: 3rem;
            color: var(--cinema-color);
            margin-bottom: 1rem;
        }

        .btn-cinema {
            background: linear-gradient(45deg, var(--cinema-color), #34495e);
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 30px;
            font-weight: 600;
            transition: all 0.3s ease;
        }

        .btn-cinema:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(44, 62, 80, 0.3);
            color: white;
        }

        .theater-card {
            border: 2px solid transparent;
            transition: all 0.3s ease;
            border-radius: 20px;
            position: relative;
            overflow: hidden;
            background: linear-gradient(145deg, #ffffff 0%, #f8f9fa 100%);
        }

        .theater-card:hover {
            border-color: var(--cinema-color);
            transform: translateY(-10px);
            box-shadow: 0 15px 35px rgba(44, 62, 80, 0.2);
        }

        .theater-card.featured {
            border-color: var(--cinema-gold);
            position: relative;
        }

        .theater-badge {
            position: absolute;
            top: 20px;
            right: -30px;
            background: var(--cinema-gold);
            color: var(--cinema-color);
            padding: 5px 40px;
            transform: rotate(45deg);
            font-size: 0.8rem;
            font-weight: bold;
            z-index: 10;
        }

        .booking-form {
            background: white;
            border-radius: 20px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.1);
            padding: 2rem;
        }

        .time-slot {
            border: 2px solid #e9ecef;
            padding: 15px;
            text-align: center;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-bottom: 10px;
        }

        .time-slot:hover {
            border-color: var(--cinema-color);
            background-color: rgba(44, 62, 80, 0.1);
        }

        .time-slot.selected {
            border-color: var(--cinema-color);
            background-color: var(--cinema-color);
            color: white;
        }

        .time-slot.unavailable {
            background-color: #f8f9fa;
            color: #6c757d;
            cursor: not-allowed;
            opacity: 0.5;
        }

        .time-slot.unavailable:hover {
            border-color: #e9ecef;
            background-color: #f8f9fa;
        }

        .movie-card {
            background: linear-gradient(145deg, #2c3e50 0%, #34495e 100%);
            color: white;
            border-radius: 15px;
            overflow: hidden;
            transition: all 0.3s ease;
        }

        .movie-card:hover {
            transform: scale(1.05);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
        }

        .movie-poster {
            height: 300px;
            background: linear-gradient(145deg, #34495e 0%, #2c3e50 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 4rem;
            color: var(--cinema-gold);
        }

        .screen-visual {
            background: linear-gradient(to bottom, #000 0%, #333 50%, #000 100%);
            height: 150px;
            border-radius: 20px 20px 5px 5px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            margin-bottom: 20px;
            position: relative;
        }

        .screen-visual::before {
            content: 'SCREEN';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 1.2rem;
            font-weight: bold;
            opacity: 0.5;
        }

        .seat-map {
            background: #f8f9fa;
            border-radius: 15px;
            padding: 20px;
            margin: 20px 0;
        }

        .seat-row {
            display: flex;
            justify-content: center;
            gap: 5px;
            margin: 5px 0;
        }

        .seat {
            width: 25px;
            height: 25px;
            background: #28a745;
            border-radius: 5px 5px 15px 15px;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
        }

        .seat:hover {
            background: #17a2b8;
            transform: scale(1.1);
        }

        .seat.occupied {
            background: #dc3545;
            cursor: not-allowed;
        }

        .seat.selected {
            background: var(--cinema-gold);
        }

        .seat-legend {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 15px;
            font-size: 0.9rem;
        }

        .legend-item {
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .legend-seat {
            width: 15px;
            height: 15px;
            border-radius: 3px 3px 8px 8px;
        }

        .gallery-img {
            height: 250px;
            object-fit: cover;
            border-radius: 15px;
            transition: transform 0.3s ease;
        }

        .gallery-img:hover {
            transform: scale(1.05);
        }

        .alert-custom {
            border-radius: 15px;
            border: none;
        }

        .footer {
            background: linear-gradient(135deg, var(--primary-color) 0%, #34495e 100%);
            color: white;
            padding: 3rem 0 2rem;
        }

        .package-card {
            background: linear-gradient(145deg, #ffffff 0%, #f8f9fa 100%);
            border: 2px solid transparent;
            border-radius: 20px;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .package-card:hover {
            border-color: var(--cinema-color);
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        }

        .package-icon {
            font-size: 2.5rem;
            color: var(--cinema-color);
        }

        @media (max-width: 768px) {
            .page-header {
                padding: 2rem 0;
            }

            .page-header h1 {
                font-size: 2rem;
            }

            .seat {
                width: 20px;
                height: 20px;
            }

            .seat-legend {
                flex-wrap: wrap;
            }
        }
    </style>
</head>

<body>
    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg navbar-light bg-white shadow-sm fixed-top">
        <div class="container">
            <a class="navbar-brand" href="index.html">
                <i class="bi bi-building"></i> BookSpace
            </a>

            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>

            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav me-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="index.html">หน้าแรก</a>
                    </li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle active" href="#" role="button" data-bs-toggle="dropdown">
                            สิ่งอำนวยความสะดวก
                        </a>
                        <ul class="dropdown-menu">
                            <li><a class="dropdown-item" href="fitness.html"><i class="bi bi-heart-pulse"></i>
                                    ห้องฟิตเนส</a></li>
                            <li><a class="dropdown-item active" href="cinema.html"><i class="bi bi-camera-reels"></i>
                                    ห้องดูหนัง</a></li>
                            <li><a class="dropdown-item" href="karaoke.html"><i class="bi bi-mic"></i> ห้องคาราโอเกะ</a>
                            </li>
                            <li><a class="dropdown-item" href="meeting.html"><i class="bi bi-people"></i> ห้องประชุม</a>
                            </li>
                        </ul>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="index.html#about">เกี่ยวกับเรา</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="index.html#contact">ติดต่อเรา</a>
                    </li>
                </ul>
                <div class="navbar-nav">
                    <a class="nav-link btn btn-outline-primary px-3 rounded-pill me-2" href="admin.html">
                        <i class="bi bi-gear"></i> Admin
                    </a>
                </div>
            </div>
        </div>
    </nav>

    <!-- Page Header -->
    <section class="page-header">
        <div class="container">
            <div class="header-content text-center">
                <div class="display-1 mb-3">🎬</div>
                <h1 class="display-4 fw-bold mb-3">ห้องดูหนัง</h1>
                <p class="lead mb-4">สัมผัสประสบการณ์ชมภาพยนตร์ระดับโรงหนังส่วนตัว พร้อมระบบเสียงและภาพคุณภาพสูง</p>
                <div class="row justify-content-center">
                    <div class="col-md-10">
                        <div class="d-flex justify-content-center gap-4 text-center flex-wrap">
                            <div>
                                <div class="h3 mb-1">500</div>
                                <small>บาท/ชั่วโมง</small>
                            </div>
                            <div>
                                <div class="h3 mb-1">4K</div>
                                <small>Ultra HD</small>
                            </div>
                            <div class="h3 mb-1">20</div>
                            <small>ที่นั่ง (สูงสุด)</small>
                        </div>
                        <div>
                            <div class="h3 mb-1">7.1</div>
                            <small>Surround Sound</small>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        </div>
    </section>

    <!-- Theater Options -->
    <section class="py-5">
        <div class="container">
            <div class="text-center mb-5">
                <h2 class="display-6 fw-bold mb-3">เลือกห้องโรงหนัง</h2>
                <p class="lead text-muted">ห้องดูหนังพรีเมียมหลายรูปแบบ เหมาะสำหรับทุกโอกาส</p>
            </div>

            <div class="row g-4">
                <div class="col-lg-4">
                    <div class="card theater-card h-100">
                        <div class="card-body p-4 text-center">
                            <div class="theater-icon display-4 mb-3">🍿</div>
                            <h3 class="card-title mb-3">Mini Theater</h3>
                            <div class="capacity-indicator mb-3">
                                <i class="bi bi-people-fill text-cinema-color"></i>
                                <span class="ms-2">1-6 คน</span>
                            </div>
                            <div class="display-5 text-cinema-color fw-bold mb-2">500</div>
                            <p class="text-muted mb-4">บาท/ชั่วโมง</p>

                            <ul class="list-unstyled mb-4 text-start">
                                <li class="mb-2"><i class="bi bi-check text-success"></i> จอ LED 65 นิ้ว 4K</li>
                                <li class="mb-2"><i class="bi bi-check text-success"></i> ระบบเสียง 5.1 Surround</li>
                                <li class="mb-2"><i class="bi bi-check text-success"></i> เก้าอี้หนังเรไคลน์เนอร์</li>
                                <li class="mb-2"><i class="bi bi-check text-success"></i> ป๊อปคอร์นและเครื่องดื่ม</li>
                                <li class="mb-2"><i class="bi bi-check text-success"></i> Netflix, Disney+</li>
                            </ul>

                            <button class="btn btn-cinema w-100" onclick="selectTheater('mini', 500, '1-6 คน')">
                                <i class="bi bi-calendar-plus"></i> จองห้องนี้
                            </button>
                        </div>
                    </div>
                </div>

                <div class="col-lg-4">
                    <div class="card theater-card featured h-100">
                        <div class="theater-badge">Premium</div>
                        <div class="card-body p-4 text-center">
                            <div class="theater-icon display-4 mb-3">🎭</div>
                            <h3 class="card-title mb-3">Premium Theater</h3>
                            <div class="capacity-indicator mb-3">
                                <i class="bi bi-people-fill text-cinema-color"></i>
                                <span class="ms-2">8-12 คน</span>
                            </div>
                            <div class="display-5 text-cinema-color fw-bold mb-2">800</div>
                            <p class="text-muted mb-4">บาท/ชั่วโมง</p>

                            <ul class="list-unstyled mb-4 text-start">
                                <li class="mb-2"><i class="bi bi-check text-success"></i> จอโปรเจคเตอร์ 100 นิ้ว 4K</li>
                                <li class="mb-2"><i class="bi bi-check text-success"></i> ระบบเสียง 7.1 Dolby Atmos</li>
                                <li class="mb-2"><i class="bi bi-check text-success"></i> เก้าอี้โซฟาพรีเมียม</li>
                                <li class="mb-2"><i class="bi bi-check text-success"></i> บาร์เครื่องดื่มครบครัน</li>
                                <li class="mb-2"><i class="bi bi-check text-success"></i> บริการจัดปาร์ตี้</li>
                            </ul>

                            <button class="btn btn-cinema w-100" onclick="selectTheater('premium', 800, '8-12 คน')">
                                <i class="bi bi-calendar-plus"></i> จองห้องนี้
                            </button>
                        </div>
                    </div>
                </div>

                <div class="col-lg-4">
                    <div class="card theater-card h-100">
                        <div class="card-body p-4 text-center">
                            <div class="theater-icon display-4 mb-3">👑</div>
                            <h3 class="card-title mb-3">VIP Theater</h3>
                            <div class="capacity-indicator mb-3">
                                <i class="bi bi-people-fill text-cinema-color"></i>
                                <span class="ms-2">15-20 คน</span>
                            </div>
                            <div class="display-5 text-cinema-color fw-bold mb-2">1,200</div>
                            <p class="text-muted mb-4">บาท/ชั่วโมง</p>

                            <ul class="list-unstyled mb-4 text-start">
                                <li class="mb-2"><i class="bi bi-check text-success"></i> จอ Laser 4K 120 นิ้ว</li>
                                <li class="mb-2"><i class="bi bi-check text-success"></i> ระบบเสียง Dolby Vision</li>
                                <li class="mb-2"><i class="bi bi-check text-success"></i> ที่นั่งโรงหนังระดับ VIP</li>
                                <li class="mb-2"><i class="bi bi-check text-success"></i> ห้องแต่งตัวส่วนตัว</li>
                                <li class="mb-2"><i class="bi bi-check text-success"></i> เชฟส่วนตัว</li>
                            </ul>

                            <button class="btn btn-cinema w-100" onclick="selectTheater('vip', 1200, '15-20 คน')">
                                <i class="bi bi-calendar-plus"></i> จองห้องนี้
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Features Section -->
    <section class="py-5 bg-light">
        <div class="container">
            <div class="text-center mb-5">
                <h2 class="display-6 fw-bold mb-3">สิ่งที่คุณจะได้รับ</h2>
                <p class="lead text-muted">ประสบการณ์ชมภาพยนตร์ระดับโลก ด้วยเทคโนโลยีที่ทันสมัยที่สุด</p>
            </div>

            <div class="row g-4">
                <div class="col-lg-3 col-md-6">
                    <div class="card feature-card">
                        <div class="card-body text-center p-4">
                            <div class="feature-icon">📺</div>
                            <h5 class="card-title mb-3">จอภาพ Ultra HD</h5>
                            <p class="card-text text-muted">
                                จอ 4K Ultra HD ความละเอียดสูงสุด
                                ให้ภาพคมชัดราวกับอยู่ในโรงหนังจริง
                            </p>
                        </div>
                    </div>
                </div>

                <div class="col-lg-3 col-md-6">
                    <div class="card feature-card">
                        <div class="card-body text-center p-4">
                            <div class="feature-icon">🔊</div>
                            <h5 class="card-title mb-3">เสียงรอบทิศทาง</h5>
                            <p class="card-text text-muted">
                                ระบบเสียง Dolby Atmos 7.1 Surround Sound
                                มอบประสบการณ์เสียงที่สมจริง
                            </p>
                        </div>
                    </div>
                </div>

                <div class="col-lg-3 col-md-6">
                    <div class="card feature-card">
                        <div class="card-body text-center p-4">
                            <div class="feature-icon">🪑</div>
                            <h5 class="card-title mb-3">ที่นั่งพรีเมียม</h5>
                            <p class="card-text text-muted">
                                เก้าอี้เรไคลน์เนอร์หนังแท้
                                ปรับได้ 180 องศา พร้อมที่วางเครื่องดื่ม
                            </p>
                        </div>
                    </div>
                </div>

                <div class="col-lg-3 col-md-6">
                    <div class="card feature-card">
                        <div class="card-body text-center p-4">
                            <div class="feature-icon">🍿</div>
                            <h5 class="card-title mb-3">อาหารและเครื่องดื่ม</h5>
                            <p class="card-text text-muted">
                                ป๊อปคอร์น ของว่าง และเครื่องดื่มคุณภาพ
                                เสิร์ฟถึงที่นั่ง
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Movie Packages -->
    <section class="py-5">
        <div class="container">
            <div class="text-center mb-5">
                <h2 class="display-6 fw-bold mb-3">แพ็กเกจพิเศษ</h2>
                <p class="lead text-muted">เลือกแพ็กเกจที่เหมาะสมกับโอกาสของคุณ</p>
            </div>

            <div class="row g-4">
                <div class="col-lg-4">
                    <div class="card package-card h-100">
                        <div class="card-body text-center p-4">
                            <div class="package-icon mb-3">💕</div>
                            <h4 class="card-title mb-3">Romantic Package</h4>
                            <p class="text-muted mb-3">เหมาะสำหรับคู่รัก วันครบรอบ</p>
                            <ul class="list-unstyled text-start mb-4">
                                <li class="mb-2">• ห้อง Mini Theater 3 ชั่วโมง</li>
                                <li class="mb-2">• ดอกไม้และของขวัญ</li>
                                <li class="mb-2">• เค้กและแชมเปญ</li>
                                <li class="mb-2">• การตกแต่งพิเศษ</li>
                                <li class="mb-2">• หนังรักคัดพิเศษ</li>
                            </ul>
                            <div class="h4 text-cinema-color mb-3">2,500 บาท</div>
                            <button class="btn btn-cinema w-100" onclick="selectPackage('romantic', 2500)">
                                เลือกแพ็กเกจนี้
                            </button>
                        </div>
                    </div>
                </div>

                <div class="col-lg-4">
                    <div class="card package-card h-100">
                        <div class="card-body text-center p-4">
                            <div class="package-icon mb-3">🎉</div>
                            <h4 class="card-title mb-3">Party Package</h4>
                            <p class="text-muted mb-3">สำหรับปาร์ตี้ วันเกิด งานเลี้ยง</p>
                            <ul class="list-unstyled text-start mb-4">
                                <li class="mb-2">• ห้อง Premium Theater 4 ชั่วโมง</li>
                                <li class="mb-2">• บาร์เครื่องดื่มเปิดบริการ</li>
                                <li class="mb-2">• อาหารว่างและขนมหวาน</li>
                                <li class="mb-2">• ระบบคาราโอเกะ</li>
                                <li class="mb-2">• ถ่ายภาพฟรี</li>
                            </ul>
                            <div class="h4 text-cinema-color mb-3">4,500 บาท</div>
                            <button class="btn btn-cinema w-100" onclick="selectPackage('party', 4500)">
                                เลือกแพ็กเกจนี้
                            </button>
                        </div>
                    </div>
                </div>

                <div class="col-lg-4">
                    <div class="card package-card h-100">
                        <div class="card-body text-center p-4">
                            <div class="package-icon mb-3">👨‍👩‍👧‍👦</div>
                            <h4 class="card-title mb-3">Family Package</h4>
                            <p class="text-muted mb-3">สำหรับครอบครัว กิจกรรมเด็ก</p>
                            <ul class="list-unstyled text-start mb-4">
                                <li class="mb-2">• ห้อง VIP Theater 3 ชั่วโมง</li>
                                <li class="mb-2">• หนังการ์ตูนและครอบครัว</li>
                                <li class="mb-2">• ป๊อปคอร์นไม่จำกัด</li>
                                <li class="mb-2">• เกมและกิจกรรมเด็ก</li>
                                <li class="mb-2">• พื้นที่เด็กเล่นปลอดภัย</li>
                            </ul>
                            <div class="h4 text-cinema-color mb-3">3,800 บาท</div>
                            <button class="btn btn-cinema w-100" onclick="selectPackage('family', 3800)">
                                เลือกแพ็กเกจนี้
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Popular Movies -->
    <section class="py-5 bg-light">
        <div class="container">
            <div class="text-center mb-5">
                <h2 class="display-6 fw-bold mb-3">หนังยอดนิยม</h2>
                <p class="lead text-muted">หนังใหม่ล่าสุดและหนังคลาสสิคที่ได้รับความนิยม</p>
            </div>

            <div class="row g-4">
                <div class="col-lg-4 col-md-6">
                    <div class="movie-card">
                        <div class="movie-poster">🦸‍♂️</div>
                        <div class="card-body p-3">
                            <h5 class="card-title">Action Movies</h5>
                            <p class="card-text small">Marvel, DC Comics, Fast & Furious และหนังแอ็คชั่นมันส์ๆ</p>
                            <div class="d-flex justify-content-between align-items-center">
                                <small>4.8 ⭐</small>
                                <small>120+ หนัง</small>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="col-lg-4 col-md-6">
                    <div class="movie-card">
                        <div class="movie-poster">💕</div>
                        <div class="card-body p-3">
                            <h5 class="card-title">Romance Movies</h5>
                            <p class="card-text small">หนังรักโรแมนติก เหมาะสำหรับคู่รักและคืนสุดพิเศษ</p>
                            <div class="d-flex justify-content-between align-items-center">
                                <small>4.6 ⭐</small>
                                <small>80+ หนัง</small>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="col-lg-4 col-md-6">
                    <div class="movie-card">
                        <div class="movie-poster">😂</div>
                        <div class="card-body p-3">
                            <h5 class="card-title">Comedy Movies</h5>
                            <p class="card-text small">หนังตลกขบขัน เหมาะสำหรับปาร์ตี้และงานเลี้ยง</p>
                            <div class="d-flex justify-content-between align-items-center">
                                <small>4.7 ⭐</small>
                                <small>95+ หนัง</small>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="col-lg-4 col-md-6">
                    <div class="movie-card">
                        <div class="movie-poster">👻</div>
                        <div class="card-body p-3">
                            <h5 class="card-title">Horror Movies</h5>
                            <p class="card-text small">หนังสยองขวัญระทึกขวัญ สำหรับคนกล้าเท่านั้น</p>
                            <div class="d-flex justify-content-between align-items-center">
                                <small>4.5 ⭐</small>
                                <small>60+ หนัง</small>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="col-lg-4 col-md-6">
                    <div class="movie-card">
                        <div class="movie-poster">👨‍👩‍👧‍👦</div>
                        <div class="card-body p-3">
                            <h5 class="card-title">Family Movies</h5>
                            <p class="card-text small">หนังการ์ตูน Disney, Pixar เหมาะสำหรับครอบครัว</p>
                            <div class="d-flex justify-content-between align-items-center">
                                <small>4.9 ⭐</small>
                                <small>150+ หนัง</small>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="col-lg-4 col-md-6">
                    <div class="movie-card">
                        <div class="movie-poster">🎭</div>
                        <div class="card-body p-3">
                            <h5 class="card-title">Classic Movies</h5>
                            <p class="card-text small">หนังคลาสสิคระดับตำนาน ผลงานของผู้กำกับชื่อดัง</p>
                            <div class="d-flex justify-content-between align-items-center">
                                <small>4.8 ⭐</small>
                                <small>200+ หนัง</small>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Gallery Section -->
    <section class="py-5">
        <div class="container">
            <div class="text-center mb-5">
                <h2 class="display-6 fw-bold mb-3">ชมภาพห้องโรงหนัง</h2>
                <p class="lead text-muted">บรรยากาศโรงภาพยนตร์ส่วนตัวระดับพรีเมียม</p>
            </div>

            <div class="row g-4">
                <div class="col-lg-4 col-md-6">
                    <img src="img/Mini Theater.jpg"
                        class="img-fluid gallery-img w-100" alt="Mini Theater">
                </div>
                <div class="col-lg-4 col-md-6">
                    <img src="https://images.unsplash.com/photo-1517604931442-7e0c8ed2963c?w=400&h=250&fit=crop"
                        class="img-fluid gallery-img w-100" alt="Premium Theater">
                </div>
                <div class="col-lg-4 col-md-6">
                    <img src="https://images.unsplash.com/photo-1440404653325-ab127d49abc1?w=400&h=250&fit=crop"
                        class="img-fluid gallery-img w-100" alt="VIP Theater">
                </div>
                <div class="col-lg-4 col-md-6">
                    <img src="https://images.unsplash.com/photo-1535016120720-40c646be5580?w=400&h=250&fit=crop"
                        class="img-fluid gallery-img w-100" alt="Sound System">
                </div>
                <div class="col-lg-4 col-md-6">
                    <img src="https://images.unsplash.com/photo-1542204165-65bf26472b9b?w=400&h=250&fit=crop"
                        class="img-fluid gallery-img w-100" alt="Premium Seats">
                </div>
                <div class="col-lg-4 col-md-6">
                    <img src="img/OIP.webp"
                        class="img-fluid gallery-img w-100" alt="Snack Bar">
                </div>
            </div>
        </div>
    </section>

    <!-- Booking Section -->
    <section class="py-5 bg-light" id="booking">
        <div class="container">
            <div class="text-center mb-5">
                <h2 class="display-6 fw-bold mb-3">จองห้องดูหนัง</h2>
                <p class="lead text-muted">เลือกห้อง วันที่ เวลา และเลือกที่นั่งของคุณ</p>
            </div>

            <div class="row justify-content-center">
                <div class="col-lg-10">
                    <div class="booking-form">
                        <div class="alert alert-info alert-custom d-none" id="bookingAlert"></div>
                        <div class="alert alert-danger alert-custom d-none" id="errorAlert"></div>

                        <form id="bookingForm">
                            <!-- Theater Selection -->
                            <div class="mb-4">
                                <label class="form-label fw-bold">เลือกห้องโรงหนัง</label>
                                <div class="row g-3">
                                    <div class="col-md-4">
                                        <div class="theater-option" data-theater="mini" data-price="500"
                                            data-capacity="1-6 คน">
                                            <div class="card text-center h-100">
                                                <div class="card-body">
                                                    <div class="display-6 mb-2">🍿</div>
                                                    <h6>Mini Theater</h6>
                                                    <small class="text-muted">1-6 คน<br>500 บาท/ชม.</small>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="theater-option" data-theater="premium" data-price="800"
                                            data-capacity="8-12 คน">
                                            <div class="card text-center h-100">
                                                <div class="card-body">
                                                    <div class="display-6 mb-2">🎭</div>
                                                    <h6>Premium Theater</h6>
                                                    <small class="text-muted">8-12 คน<br>800 บาท/ชม.</small>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="theater-option" data-theater="vip" data-price="1200"
                                            data-capacity="15-20 คน">
                                            <div class="card text-center h-100">
                                                <div class="card-body">
                                                    <div class="display-6 mb-2">👑</div>
                                                    <h6>VIP Theater</h6>
                                                    <small class="text-muted">15-20 คน<br>1,200 บาท/ชม.</small>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="row g-3 mb-4">
                                <div class="col-md-6">
                                    <div class="form-floating">
                                        <input type="date" class="form-control" id="bookingDate" required>
                                        <label for="bookingDate">วันที่ต้องการดูหนัง</label>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="form-floating">
                                        <select class="form-select" id="duration" required>
                                            <option value="">เลือกระยะเวลา</option>
                                            <option value="2">2 ชั่วโมง (หนัง 1 เรื่อง)</option>
                                            <option value="3">3 ชั่วโมง (หนัง 1-2 เรื่อง)</option>
                                            <option value="4">4 ชั่วโมง (หนัง 2 เรื่อง)</option>
                                            <option value="6">6 ชั่วโมง (มาราธอน)</option>
                                        </select>
                                        <label for="duration">ระยะเวลาการดูหนัง</label>
                                    </div>
                                </div>
                            </div>

                            <!-- Time Slots -->
                            <div class="mb-4">
                                <label class="form-label fw-bold">เลือกเวลาเริ่มต้น</label>
                                <div class="row g-2" id="timeSlots">
                                    <!-- Time slots will be generated here -->
                                </div>
                            </div>

                            <!-- Seat Selection -->
                            <div class="mb-4" id="seatSelectionSection" style="display: none;">
                                <label class="form-label fw-bold">เลือกที่นั่ง</label>
                                <div class="seat-map">
                                    <div class="screen-visual">
                                        <span style="position: relative; z-index: 2;">จอภาพยนตร์</span>
                                    </div>

                                    <div id="seatMap">
                                        <!-- Seat map will be generated here -->
                                    </div>

                                    <div class="seat-legend">
                                        <div class="legend-item">
                                            <div class="legend-seat" style="background: #28a745;"></div>
                                            <span>ว่าง</span>
                                        </div>
                                        <div class="legend-item">
                                            <div class="legend-seat" style="background: #ffc107;"></div>
                                            <span>เลือกแล้ว</span>
                                        </div>
                                        <div class="legend-item">
                                            <div class="legend-seat" style="background: #dc3545;"></div>
                                            <span>ไม่ว่าง</span>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Movie and Service Selection -->
                            <div class="row g-3 mb-4">
                                <div class="col-md-6">
                                    <div class="form-floating">
                                        <select class="form-select" id="movieGenre">
                                            <option value="action">Action - หนังแอ็คชั่น</option>
                                            <option value="romance">Romance - หนังรัก</option>
                                            <option value="comedy">Comedy - หนังตลก</option>
                                            <option value="horror">Horror - หนังสยองขวัญ</option>
                                            <option value="family">Family - หนังครอบครัว</option>
                                            <option value="classic">Classic - หนังคลาสสิค</option>
                                            <option value="custom">อื่นๆ - นำหนังมาเอง</option>
                                        </select>
                                        <label for="movieGenre">ประเภทหนัง</label>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="form-floating">
                                        <select class="form-select" id="attendees" required>
                                            <option value="">จำนวนผู้ดูหนัง</option>
                                            <option value="1">1 คน</option>
                                            <option value="2">2 คน</option>
                                            <option value="3-5">3-5 คน</option>
                                            <option value="6-10">6-10 คน</option>
                                            <option value="11-15">11-15 คน</option>
                                            <option value="16-20">16-20 คน</option>
                                        </select>
                                        <label for="attendees">จำนวนผู้เข้าชม</label>
                                    </div>
                                </div>
                            </div>

                            <!-- Additional Services -->
                            <div class="mb-4">
                                <label class="form-label fw-bold">บริการเสริม</label>
                                <div class="row g-3">
                                    <div class="col-md-6">
                                        <div class="form-check">
                                            <input class="form-check-input" type="checkbox" id="snackBar" value="300">
                                            <label class="form-check-label" for="snackBar">
                                                🍿 ป๊อปคอร์น + เครื่องดื่ม (+300 บาท)
                                            </label>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="form-check">
                                            <input class="form-check-input" type="checkbox" id="premiumSnack"
                                                value="800">
                                            <label class="form-check-label" for="premiumSnack">
                                                🥂 Premium Snack Bar (+800 บาท)
                                            </label>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="form-check">
                                            <input class="form-check-input" type="checkbox" id="decoration" value="500">
                                            <label class="form-check-label" for="decoration">
                                                🎈 การตกแต่งพิเศษ (+500 บาท)
                                            </label>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="form-check">
                                            <input class="form-check-input" type="checkbox" id="photography"
                                                value="1000">
                                            <label class="form-check-label" for="photography">
                                                📸 ช่างภาพมืออาชีพ (+1,000 บาท)
                                            </label>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <hr class="my-4">

                            <h5 class="mb-3">ข้อมูลผู้จอง</h5>
                            <div class="row g-3 mb-4">
                                <div class="col-md-6">
                                    <div class="form-floating">
                                        <input type="text" class="form-control" id="fullName" required>
                                        <label for="fullName">ชื่อ-นามสกุล</label>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="form-floating">
                                        <input type="tel" class="form-control" id="phone" required>
                                        <label for="phone">เบอร์โทรศัพท์</label>
                                    </div>
                                </div>
                            </div>

                            <div class="row g-3 mb-4">
                                <div class="col-md-6">
                                    <div class="form-floating">
                                        <input type="email" class="form-control" id="email" required>
                                        <label for="email">อีเมล</label>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="form-floating">
                                        <select class="form-select" id="occasion">
                                            <option value="general">ชมภาพยนตร์ทั่วไป</option>
                                            <option value="date">เดท/ครับรอบ</option>
                                            <option value="birthday">วันเกิด</option>
                                            <option value="party">ปาร์ตี้</option>
                                            <option value="family">พบปะครอบครัว</option>
                                            <option value="other">โอกาสพิเศษอื่นๆ</option>
                                        </select>
                                        <label for="occasion">โอกาสการใช้งาน</label>
                                    </div>
                                </div>
                            </div>

                            <div class="form-floating mb-4">
                                <textarea class="form-control" id="specialRequest" style="height: 100px"></textarea>
                                <label for="specialRequest">ความต้องการพิเศษ / หนังที่ต้องการดู</label>
                            </div>

                            <!-- Booking Summary -->
                            <div class="card bg-light mb-4" id="bookingSummary" style="display: none;">
                                <div class="card-header">
                                    <h6 class="mb-0"><i class="bi bi-ticket-detailed"></i> สรุปการจอง</h6>
                                </div>
                                <div class="card-body">
                                    <div id="summaryDetails"></div>
                                    <hr>
                                    <div class="d-flex justify-content-between">
                                        <strong>ราคารวมทั้งสิ้น:</strong>
                                        <strong class="text-cinema-color" id="totalPrice">0 บาท</strong>
                                    </div>
                                </div>
                            </div>

                            <div class="d-grid">
                                <button type="submit" class="btn btn-cinema btn-lg">
                                    <i class="bi bi-ticket-detailed"></i> ยืนยันการจอง
                                </button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="row g-4">
                <div class="col-lg-4">
                    <h5 class="mb-3">
                        <i class="bi bi-building"></i> BookSpace
                    </h5>
                    <p class="mb-3">
                        แพลตฟอร์มจองสิ่งอำนวยความสะดวกออนไลน์ที่ทันสมัย
                        เพื่อความสะดวกสบายของคุณ
                    </p>
                </div>

                <div class="col-lg-2">
                    <h6 class="mb-3">สิ่งอำนวยความสะดวก</h6>
                    <ul class="list-unstyled">
                        <li class="mb-2"><a href="fitness.html" class="text-light text-decoration-none">ห้องฟิตเนส</a>
                        </li>
                        <li class="mb-2"><a href="cinema.html" class="text-light text-decoration-none">ห้องดูหนัง</a>
                        </li>
                        <li class="mb-2"><a href="karaoke.html"
                                class="text-light text-decoration-none">ห้องคาราโอเกะ</a></li>
                        <li class="mb-2"><a href="meeting.html" class="text-light text-decoration-none">ห้องประชุม</a>
                        </li>
                    </ul>
                </div>

                <div class="col-lg-3">
                    <h6 class="mb-3">ติดต่อเรา</h6>
                    <ul class="list-unstyled">
                        <li class="mb-2"><i class="bi bi-telephone"></i> 02-123-4567</li>
                        <li class="mb-2"><i class="bi bi-envelope"></i> info@bookspace.com</li>
                        <li class="mb-2"><i class="bi bi-geo-alt"></i> 123 ถนนสุขุมวิท กรุงเทพฯ</li>
                    </ul>
                </div>

                <div class="col-lg-3">
                    <h6 class="mb-3">เวลาทำการ</h6>
                    <ul class="list-unstyled">
                        <li class="mb-2">จันทร์ - ศุกร์: 10:00 - 24:00</li>
                        <li class="mb-2">เสาร์ - อาทิตย์: 09:00 - 01:00</li>
                        <li class="mb-2">วันหยุดนักขัตฤกษ์: 12:00 - 24:00</li>
                    </ul>
                </div>
            </div>

            <hr class="my-4">

            <div class="text-center">
                <p class="mb-0">&copy; 2025 BookSpace. สงวนลิขสิทธิ์ทุกประการ</p>
            </div>
        </div>
    </footer>

    <!-- Success Modal -->
    <div class="modal fade" id="successModal" tabindex="-1">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header bg-success text-white">
                    <h5 class="modal-title">
                        <i class="bi bi-ticket-detailed"></i> จองสำเร็จ!
                    </h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <div class="text-center">
                        <div class="display-1 mb-3">🎬</div>
                        <h4>ยินดีต้อนรับสู่ BookSpace Cinema!</h4>
                        <p class="mb-3">การจองห้องดูหนังของคุณได้รับการบันทึกเรียบร้อยแล้ว</p>
                    </div>

                    <div class="row g-3">
                        <div class="col-md-6">
                            <div class="alert alert-info">
                                <strong><i class="bi bi-ticket"></i> หมายเลขการจอง:</strong><br>
                                #<span id="modalBookingId"></span>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="alert alert-warning">
                                <strong><i class="bi bi-clock"></i> สถานะ:</strong><br>
                                รอการยืนยัน
                            </div>
                        </div>
                    </div>

                    <div class="alert alert-light">
                        <h6><i class="bi bi-info-circle"></i> เตรียมตัวให้พร้อม:</h6>
                        <ul class="mb-0">
                            <li>มาก่อนเวลา 15 นาที เพื่อเช็คอินและเตรียมอุปกรณ์</li>
                            <li>หากต้องการหนังเฉพาะ กรุณาแจ้งล่วงหน้า</li>
                            <li>ห้องมีเครื่องดื่มฟรี แต่สามารถสั่งเพิ่มได้</li>
                            <li>สามารถยกเลิกได้ก่อนเวลา 24 ชั่วโมง</li>
                        </ul>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">ปิด</button>
                    <a href="index.html" class="btn btn-primary">กลับหน้าหลัก</a>
                </div>
            </div>
        </div>
    </div>

    <!-- Bootstrap JS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/js/bootstrap.bundle.min.js"></script>

    <script>
        // Get database instance
        let db;
        if (typeof MockDatabase !== 'undefined') {
            db = new MockDatabase();
        } else {
            // Fallback database for standalone page
            class FallbackDatabase {
                constructor() {
                    this.bookings = JSON.parse(localStorage.getItem('bookings')) || [];
                }

                saveToStorage() {
                    localStorage.setItem('bookings', JSON.stringify(this.bookings));
                }

                addBooking(booking) {
                    const newBooking = {
                        ...booking,
                        id: this.bookings.length > 0 ? Math.max(...this.bookings.map(b => b.id)) + 1 : 1,
                        timestamp: new Date(),
                        status: 'pending'
                    };
                    this.bookings.push(newBooking);
                    this.saveToStorage();
                    return newBooking;
                }

                isTimeSlotAvailable(facility, date, startTime, duration) {
                    const requestStart = parseInt(startTime.split(':')[0]);
                    const requestEnd = requestStart + parseInt(duration);

                    return !this.bookings.some(booking => {
                        if (booking.facility !== facility || booking.date !== date || booking.status !== 'approved') {
                            return false;
                        }

                        const bookingStart = parseInt(booking.time.split(':')[0]);
                        const bookingEnd = bookingStart + parseInt(booking.duration);

                        return (requestStart < bookingEnd && requestEnd > bookingStart);
                    });
                }
            }
            db = new FallbackDatabase();
        }

        let selectedTimeSlot = null;
        let selectedTheater = null;
        let selectedSeats = [];
        let selectedPackage = null;

        // Time slots available
        const timeSlots = [
            '10:00', '12:00', '14:00', '16:00', '18:00', '20:00', '22:00'
        ];

        const theaterPrices = {
            'mini': 500,
            'premium': 800,
            'vip': 1200
        };

        const theaterNames = {
            'mini': 'Mini Theater',
            'premium': 'Premium Theater',
            'vip': 'VIP Theater'
        };

        const theaterCapacity = {
            'mini': 6,
            'premium': 12,
            'vip': 20
        };

        // Set minimum date to today
        document.getElementById('bookingDate').min = new Date().toISOString().split('T')[0];

        // Theater selection
        document.addEventListener('DOMContentLoaded', function () {
            const theaterOptions = document.querySelectorAll('.theater-option');
            theaterOptions.forEach(option => {
                option.addEventListener('click', function () {
                    // Remove previous selection
                    theaterOptions.forEach(opt => opt.classList.remove('selected'));

                    // Add selection
                    this.classList.add('selected');
                    selectedTheater = {
                        type: this.dataset.theater,
                        price: parseInt(this.dataset.price),
                        capacity: this.dataset.capacity
                    };

                    generateTimeSlots();
                    generateSeatMap();
                    updateBookingSummary();
                });
            });
        });

        function selectTheater(type, price, capacity) {
            selectedTheater = { type, price, capacity };

            // Scroll to booking section
            document.getElementById('booking').scrollIntoView({
                behavior: 'smooth',
                block: 'start'
            });

            // Select theater option
            document.querySelectorAll('.theater-option').forEach(option => {
                option.classList.remove('selected');
                if (option.dataset.theater === type) {
                    option.classList.add('selected');
                }
            });

            updateBookingSummary();
        }

        function selectPackage(type, price) {
            selectedPackage = { type, price };

            // Scroll to booking section
            document.getElementById('booking').scrollIntoView({
                behavior: 'smooth',
                block: 'start'
            });

            // Auto-select appropriate theater based on package
            if (type === 'romantic') {
                selectTheater('mini', 500, '1-6 คน');
            } else if (type === 'party') {
                selectTheater('premium', 800, '8-12 คน');
            } else if (type === 'family') {
                selectTheater('vip', 1200, '15-20 คน');
            }

            updateBookingSummary();
        }

        // Generate time slots
        function generateTimeSlots() {
            const timeSlotsContainer = document.getElementById('timeSlots');
            const date = document.getElementById('bookingDate').value;
            const duration = document.getElementById('duration').value;

            if (!selectedTheater || !date || !duration) {
                timeSlotsContainer.innerHTML = '<p class="text-muted">กรุณาเลือกห้อง วันที่ และระยะเวลาก่อน</p>';
                return;
            }

            timeSlotsContainer.innerHTML = '';

            timeSlots.forEach(time => {
                const facilityName = `cinema_${selectedTheater.type}`;
                const isAvailable = db.isTimeSlotAvailable(facilityName, date, time, duration);
                const timeSlotDiv = document.createElement('div');
                timeSlotDiv.className = 'col-6 col-md-4 col-lg-3';

                const timeSlotButton = document.createElement('div');
                timeSlotButton.className = `time-slot ${!isAvailable ? 'unavailable' : ''}`;
                timeSlotButton.innerHTML = `
                    <strong>${time}</strong><br>
                    <small>${!isAvailable ? 'ไม่ว่าง' : 'ว่าง'}</small>
                `;

                if (isAvailable) {
                    timeSlotButton.addEventListener('click', () => selectTimeSlot(time, timeSlotButton));
                }

                timeSlotDiv.appendChild(timeSlotButton);
                timeSlotsContainer.appendChild(timeSlotDiv);
            });
        }

        function selectTimeSlot(time, element) {
            // Remove previous selection
            document.querySelectorAll('.time-slot.selected').forEach(slot => {
                slot.classList.remove('selected');
            });

            // Add selection to clicked element
            element.classList.add('selected');
            selectedTimeSlot = time;

            // Show seat selection
            document.getElementById('seatSelectionSection').style.display = 'block';
            generateSeatMap();
            updateBookingSummary();
        }

        function generateSeatMap() {
            if (!selectedTheater) return;

            const seatMapContainer = document.getElementById('seatMap');
            const capacity = theaterCapacity[selectedTheater.type];

            seatMapContainer.innerHTML = '';
            selectedSeats = [];

            let rows, seatsPerRow;
            if (capacity <= 6) {
                rows = 2;
                seatsPerRow = 3;
            } else if (capacity <= 12) {
                rows = 3;
                seatsPerRow = 4;
            } else {
                rows = 4;
                seatsPerRow = 5;
            }

            for (let row = 0; row < rows; row++) {
                const seatRowDiv = document.createElement('div');
                seatRowDiv.className = 'seat-row';

                for (let seat = 0; seat < seatsPerRow; seat++) {
                    const seatDiv = document.createElement('div');
                    const seatId = `${String.fromCharCode(65 + row)}${seat + 1}`;
                    seatDiv.className = 'seat';
                    seatDiv.dataset.seatId = seatId;
                    seatDiv.title = `ที่นั่ง ${seatId}`;

                    // Randomly make some seats occupied for demo
                    if (Math.random() < 0.2) {
                        seatDiv.classList.add('occupied');
                    } else {
                        seatDiv.addEventListener('click', () => toggleSeat(seatDiv, seatId));
                    }

                    seatRowDiv.appendChild(seatDiv);
                }

                seatMapContainer.appendChild(seatRowDiv);
            }
        }

        function toggleSeat(seatElement, seatId) {
            if (seatElement.classList.contains('selected')) {
                seatElement.classList.remove('selected');
                selectedSeats = selectedSeats.filter(id => id !== seatId);
            } else {
                seatElement.classList.add('selected');
                selectedSeats.push(seatId);
            }

            updateBookingSummary();
        }

        function updateBookingSummary() {
            const date = document.getElementById('bookingDate').value;
            const duration = document.getElementById('duration').value;
            const attendees = document.getElementById('attendees').value;

            if (!selectedTheater || !date || !duration || !selectedTimeSlot || !attendees) {
                document.getElementById('bookingSummary').style.display = 'none';
                return;
            }

            // Calculate base price
            let basePrice = 0;
            if (selectedPackage) {
                basePrice = selectedPackage.price;
            } else {
                basePrice = selectedTheater.price * parseInt(duration);
            }

            // Calculate additional services
            let additionalServices = 0;
            let servicesList = [];

            const services = ['snackBar', 'premiumSnack', 'decoration', 'photography'];
            services.forEach(service => {
                const checkbox = document.getElementById(service);
                if (checkbox && checkbox.checked) {
                    const servicePrice = parseInt(checkbox.value);
                    additionalServices += servicePrice;

                    const serviceNames = {
                        'snackBar': 'ป๊อปคอร์น + เครื่องดื่ม',
                        'premiumSnack': 'Premium Snack Bar',
                        'decoration': 'การตกแต่งพิเศษ',
                        'photography': 'ช่างภาพมืออาชีพ'
                    };
                    servicesList.push(`${serviceNames[service]}: ${servicePrice.toLocaleString()} บาท`);
                }
            });

            const totalPrice = basePrice + additionalServices;

            // Update summary
            const summaryDetails = document.getElementById('summaryDetails');
            const packageText = selectedPackage ? ` (${selectedPackage.type} package)` : '';
            const seatText = selectedSeats.length > 0 ? ` - ที่นั่ง: ${selectedSeats.join(', ')}` : '';

            summaryDetails.innerHTML = `
                <p><strong>ห้อง:</strong> ${theaterNames[selectedTheater.type]}${packageText}</p>
                <p><strong>วันที่:</strong> ${formatDateThai(date)}</p>
                <p><strong>เวลา:</strong> ${selectedTimeSlot} - ${calculateEndTime(selectedTimeSlot, duration)}</p>
                <p><strong>ระยะเวลา:</strong> ${duration} ชั่วโมง</p>
                <p><strong>จำนวนผู้ดู:</strong> ${attendees} คน${seatText}</p>
                <p><strong>ราคา${selectedPackage ? 'แพ็กเกจ' : 'ห้อง'}:</strong> ${basePrice.toLocaleString()} บาท</p>
                ${servicesList.length > 0 ? `<p><strong>บริการเสริม:</strong><br>${servicesList.join('<br>')}</p>` : ''}
            `;

            document.getElementById('totalPrice').textContent = `${totalPrice.toLocaleString()} บาท`;
            document.getElementById('bookingSummary').style.display = 'block';
        }

        function formatDateThai(dateString) {
            const date = new Date(dateString);
            return date.toLocaleDateString('th-TH', {
                year: 'numeric',
                month: 'long',
                day: 'numeric',
                weekday: 'long'
            });
        }

        function calculateEndTime(startTime, duration) {
            const [hours, minutes] = startTime.split(':').map(Number);
            const endHour = hours + parseInt(duration);
            return `${endHour.toString().padStart(2, '0')}:${minutes.toString().padStart(2, '0')}`;
        }

        // Event listeners
        document.getElementById('bookingDate').addEventListener('change', generateTimeSlots);
        document.getElementById('duration').addEventListener('change', () => {
            selectedTimeSlot = null;
            generateTimeSlots();
            updateBookingSummary();
        });

        document.getElementById('attendees').addEventListener('change', updateBookingSummary);

        // Additional services checkboxes
        ['snackBar', 'premiumSnack', 'decoration', 'photography'].forEach(service => {
            const checkbox = document.getElementById(service);
            if (checkbox) {
                checkbox.addEventListener('change', updateBookingSummary);
            }
        });

        // Form submission
        document.getElementById('bookingForm').addEventListener('submit', function (e) {
            e.preventDefault();

            if (!selectedTheater) {
                showAlert('กรุณาเลือกห้องโรงหนังก่อน', 'danger');
                return;
            }

            if (!selectedTimeSlot) {
                showAlert('กรุณาเลือกเวลาที่ต้องการดูหนัง', 'danger');
                return;
            }

            const additionalServices = [];
            ['snackBar', 'premiumSnack', 'decoration', 'photography'].forEach(service => {
                const checkbox = document.getElementById(service);
                if (checkbox && checkbox.checked) {
                    additionalServices.push(service);
                }
            });

            const bookingData = {
                facility: `cinema_${selectedTheater.type}`,
                theaterType: selectedTheater.type,
                name: document.getElementById('fullName').value,
                phone: document.getElementById('phone').value,
                email: document.getElementById('email').value,
                date: document.getElementById('bookingDate').value,
                time: selectedTimeSlot,
                duration: document.getElementById('duration').value,
                attendees: document.getElementById('attendees').value,
                movieGenre: document.getElementById('movieGenre').value,
                occasion: document.getElementById('occasion').value,
                specialRequest: document.getElementById('specialRequest').value,
                selectedSeats: selectedSeats,
                additionalServices: additionalServices,
                packageType: selectedPackage?.type || null,
                totalPrice: document.getElementById('totalPrice').textContent
            };

            // Check availability one more time
            const facilityName = `cinema_${selectedTheater.type}`;
            if (!db.isTimeSlotAvailable(facilityName, bookingData.date, bookingData.time, bookingData.duration)) {
                showAlert('ขออภัย เวลาที่เลือกไม่ว่างแล้ว กรุณาเลือกเวลาใหม่', 'danger');
                generateTimeSlots();
                return;
            }

            // Save booking
            const newBooking = db.addBooking(bookingData);

            // Show success modal
            document.getElementById('modalBookingId').textContent = newBooking.id.toString().padStart(3, '0');
            const successModal = new bootstrap.Modal(document.getElementById('successModal'));
            successModal.show();

            // Reset form
            this.reset();
            selectedTimeSlot = null;
            selectedTheater = null;
            selectedSeats = [];
            selectedPackage = null;
            document.getElementById('bookingSummary').style.display = 'none';
            document.getElementById('seatSelectionSection').style.display = 'none';
            document.getElementById('timeSlots').innerHTML = '';
            document.querySelectorAll('.theater-option').forEach(opt => opt.classList.remove('selected'));

            // Hide alerts
            document.getElementById('bookingAlert').classList.add('d-none');
            document.getElementById('errorAlert').classList.add('d-none');
        });

        function showAlert(message, type) {
            const alertElement = type === 'danger' ?
                document.getElementById('errorAlert') :
                document.getElementById('bookingAlert');

            alertElement.textContent = message;
            alertElement.classList.remove('d-none');

            // Hide after 5 seconds
            setTimeout(() => {
                alertElement.classList.add('d-none');
            }, 5000);

            // Scroll to alert
            alertElement.scrollIntoView({ behavior: 'smooth', block: 'center' });
        }

        // CSS fix for button colors and theater selection
        const style = document.createElement('style');
        style.textContent = `
            .btn-outline-cinema {
                border-color: var(--cinema-color);
                color: var(--cinema-color);
            }
            .btn-outline-cinema:hover {
                background-color: var(--cinema-color);
                color: white;
            }
            .text-cinema-color {
                color: var(--cinema-color) !important;
            }
            .theater-option {
                cursor: pointer;
                transition: all 0.3s ease;
            }
            .theater-option:hover .card {
                border-color: var(--cinema-color);
                box-shadow: 0 5px 15px rgba(44, 62, 80, 0.2);
                transform: translateY(-3px);
            }
            .theater-option.selected .card {
                border-color: var(--cinema-color);
                background-color: rgba(44, 62, 80, 0.1);
                box-shadow: 0 8px 25px rgba(44, 62, 80, 0.3);
                transform: translateY(-5px);
            }
            .theater-option .card {
                border: 2px solid #e9ecef;
                transition: all 0.3s ease;
            }
        `;
        document.head.appendChild(style);
    </script>
</body>

</html>